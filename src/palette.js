// Color palette', '#VGA 13h defaults

const RAWVGAPalette = [
    '#000000', '#0000AA', '#00AA00', '#00AAAA', '#AA0000', '#AA00AA', '#AA5500', '#AAAAAA',
    '#555555', '#5555FF', '#55FF55', '#55FFFF', '#FF5555', '#FF55FF', '#FFFF55', '#FFFFFF',
    '#000000', '#101010', '#202020', '#353535', '#454545', '#555555', '#656565', '#757575',
    '#8A8A8A', '#9A9A9A', '#AAAAAA', '#BABABA', '#CACACA', '#DFDFDF', '#EFEFEF', '#FFFFFF',
    '#0000FF', '#4100FF', '#8200FF', '#BE00FF', '#FF00FF', '#FF00BE', '#FF0082', '#FF0041',
    '#FF0000', '#FF4100', '#FF8200', '#FFBE00', '#FFFF00', '#BEFF00', '#82FF00', '#41FF00',
    '#00FF00', '#00FF41', '#00FF82', '#00FFBE', '#00FFFF', '#00BEFF', '#0082FF', '#0041FF', 
    '#8282FF', '#9E82FF', '#BE82FF', '#DF82FF', '#FF82FF', '#FF82DF', '#FF82BE', '#FF829E', 
    '#FF8282', '#FF9E82', '#FFBE82', '#FFDF82', '#FFFF82', '#DFFF82', '#BEFF82', '#9EFF82', 
    '#82FF82', '#82FF9E', '#82FFBE', '#82FFDF', '#82FFFF', '#82DFFF', '#82BEFF', '#829EFF',
    '#BABAFF', '#CABAFF', '#DFBAFF', '#EFBAFF', '#FFBAFF', '#FFBAEF', '#FFBADF', '#FFBACA', 
    '#FFBABA', '#FFCABA', '#FFDFBA', '#FFEFBA', '#FFFFBA', '#EFFFBA', '#DFFFBA', '#CAFFBA', 
    '#BAFFBA', '#BAFFCA', '#BAFFDF', '#BAFFEF', '#BAFFFF', '#BAEFFF', '#BADFFF', '#BACAFF', 
    '#000071', '#1C0071', '#390071', '#550071', '#710071', '#710055', '#710039', '#71001C', 
    '#710000', '#711C00', '#713900', '#715500', '#717100', '#557100', '#397100', '#1C7100',
    '#007100', '#00711C', '#007139', '#007155', '#007171', '#005571', '#003971', '#001C71', 
    '#393971', '#453971', '#553971', '#613971', '#713971', '#713961', '#713955', '#713945', 
    '#713939', '#714539', '#715539', '#716139', '#717139', '#617139', '#557139', '#457139', 
    '#397139', '#397145', '#397155', '#397161', '#397171', '#396171', '#395571', '#394571', 
    '#515171', '#595171', '#615171', '#695171', '#715171', '#715169', '#715161', '#715159',
    '#715151', '#715951', '#716151', '#716951', '#717151', '#697151', '#617151', '#597151', 
    '#517151', '#517159', '#517161', '#517169', '#517171', '#516971', '#516171', '#515971', 
    '#000041', '#100041', '#200041', '#310041', '#410041', '#410031', '#410020', '#410010', 
    '#410000', '#411000', '#412000', '#413100', '#414100', '#314100', '#204100', '#104100', 
    '#004100', '#004110', '#004120', '#004131', '#004141', '#003141', '#002041', '#001041',
    '#202041', '#282041', '#312041', '#392041', '#412041', '#412039', '#412031', '#412028', 
    '#412020', '#412820', '#413120', '#413920', '#414120', '#394120', '#314120', '#284120', 
    '#204120', '#204128', '#204131', '#204139', '#204141', '#203941', '#203141', '#202841', 
    '#2D2D41', '#312D41', '#352D41', '#3D2D41', '#412D41', '#412D3D', '#412D35', '#412D31', 
    '#412D2D', '#41312D', '#41352D', '#413D2D', '#41412D', '#3D412D', '#35412D', '#31412D',
    '#2D412D', '#2D4131', '#2D4135', '#2D413D', '#2D4141', '#2D3D41', '#2D3541', '#2D3141', 
    '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000', '#000000'];

export const VGAPalette = [{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":170},{"r":0,"g":170,"b":0},{"r":0,"g":170,"b":170},{"r":170,"g":0,"b":0},{"r":170,"g":0,"b":170},{"r":170,"g":85,"b":0},{"r":170,"g":170,"b":170},{"r":85,"g":85,"b":85},{"r":85,"g":85,"b":255},{"r":85,"g":255,"b":85},{"r":85,"g":255,"b":255},{"r":255,"g":85,"b":85},{"r":255,"g":85,"b":255},{"r":255,"g":255,"b":85},{"r":255,"g":255,"b":255},{"r":0,"g":0,"b":0},{"r":16,"g":16,"b":16},{"r":32,"g":32,"b":32},{"r":53,"g":53,"b":53},{"r":69,"g":69,"b":69},{"r":85,"g":85,"b":85},{"r":101,"g":101,"b":101},{"r":117,"g":117,"b":117},{"r":138,"g":138,"b":138},{"r":154,"g":154,"b":154},{"r":170,"g":170,"b":170},{"r":186,"g":186,"b":186},{"r":202,"g":202,"b":202},{"r":223,"g":223,"b":223},{"r":239,"g":239,"b":239},{"r":255,"g":255,"b":255},{"r":0,"g":0,"b":255},{"r":65,"g":0,"b":255},{"r":130,"g":0,"b":255},{"r":190,"g":0,"b":255},{"r":255,"g":0,"b":255},{"r":255,"g":0,"b":190},{"r":255,"g":0,"b":130},{"r":255,"g":0,"b":65},{"r":255,"g":0,"b":0},{"r":255,"g":65,"b":0},{"r":255,"g":130,"b":0},{"r":255,"g":190,"b":0},{"r":255,"g":255,"b":0},{"r":190,"g":255,"b":0},{"r":130,"g":255,"b":0},{"r":65,"g":255,"b":0},{"r":0,"g":255,"b":0},{"r":0,"g":255,"b":65},{"r":0,"g":255,"b":130},{"r":0,"g":255,"b":190},{"r":0,"g":255,"b":255},{"r":0,"g":190,"b":255},{"r":0,"g":130,"b":255},{"r":0,"g":65,"b":255},{"r":130,"g":130,"b":255},{"r":158,"g":130,"b":255},{"r":190,"g":130,"b":255},{"r":223,"g":130,"b":255},{"r":255,"g":130,"b":255},{"r":255,"g":130,"b":223},{"r":255,"g":130,"b":190},{"r":255,"g":130,"b":158},{"r":255,"g":130,"b":130},{"r":255,"g":158,"b":130},{"r":255,"g":190,"b":130},{"r":255,"g":223,"b":130},{"r":255,"g":255,"b":130},{"r":223,"g":255,"b":130},{"r":190,"g":255,"b":130},{"r":158,"g":255,"b":130},{"r":130,"g":255,"b":130},{"r":130,"g":255,"b":158},{"r":130,"g":255,"b":190},{"r":130,"g":255,"b":223},{"r":130,"g":255,"b":255},{"r":130,"g":223,"b":255},{"r":130,"g":190,"b":255},{"r":130,"g":158,"b":255},{"r":186,"g":186,"b":255},{"r":202,"g":186,"b":255},{"r":223,"g":186,"b":255},{"r":239,"g":186,"b":255},{"r":255,"g":186,"b":255},{"r":255,"g":186,"b":239},{"r":255,"g":186,"b":223},{"r":255,"g":186,"b":202},{"r":255,"g":186,"b":186},{"r":255,"g":202,"b":186},{"r":255,"g":223,"b":186},{"r":255,"g":239,"b":186},{"r":255,"g":255,"b":186},{"r":239,"g":255,"b":186},{"r":223,"g":255,"b":186},{"r":202,"g":255,"b":186},{"r":186,"g":255,"b":186},{"r":186,"g":255,"b":202},{"r":186,"g":255,"b":223},{"r":186,"g":255,"b":239},{"r":186,"g":255,"b":255},{"r":186,"g":239,"b":255},{"r":186,"g":223,"b":255},{"r":186,"g":202,"b":255},{"r":0,"g":0,"b":113},{"r":28,"g":0,"b":113},{"r":57,"g":0,"b":113},{"r":85,"g":0,"b":113},{"r":113,"g":0,"b":113},{"r":113,"g":0,"b":85},{"r":113,"g":0,"b":57},{"r":113,"g":0,"b":28},{"r":113,"g":0,"b":0},{"r":113,"g":28,"b":0},{"r":113,"g":57,"b":0},{"r":113,"g":85,"b":0},{"r":113,"g":113,"b":0},{"r":85,"g":113,"b":0},{"r":57,"g":113,"b":0},{"r":28,"g":113,"b":0},{"r":0,"g":113,"b":0},{"r":0,"g":113,"b":28},{"r":0,"g":113,"b":57},{"r":0,"g":113,"b":85},{"r":0,"g":113,"b":113},{"r":0,"g":85,"b":113},{"r":0,"g":57,"b":113},{"r":0,"g":28,"b":113},{"r":57,"g":57,"b":113},{"r":69,"g":57,"b":113},{"r":85,"g":57,"b":113},{"r":97,"g":57,"b":113},{"r":113,"g":57,"b":113},{"r":113,"g":57,"b":97},{"r":113,"g":57,"b":85},{"r":113,"g":57,"b":69},{"r":113,"g":57,"b":57},{"r":113,"g":69,"b":57},{"r":113,"g":85,"b":57},{"r":113,"g":97,"b":57},{"r":113,"g":113,"b":57},{"r":97,"g":113,"b":57},{"r":85,"g":113,"b":57},{"r":69,"g":113,"b":57},{"r":57,"g":113,"b":57},{"r":57,"g":113,"b":69},{"r":57,"g":113,"b":85},{"r":57,"g":113,"b":97},{"r":57,"g":113,"b":113},{"r":57,"g":97,"b":113},{"r":57,"g":85,"b":113},{"r":57,"g":69,"b":113},{"r":81,"g":81,"b":113},{"r":89,"g":81,"b":113},{"r":97,"g":81,"b":113},{"r":105,"g":81,"b":113},{"r":113,"g":81,"b":113},{"r":113,"g":81,"b":105},{"r":113,"g":81,"b":97},{"r":113,"g":81,"b":89},{"r":113,"g":81,"b":81},{"r":113,"g":89,"b":81},{"r":113,"g":97,"b":81},{"r":113,"g":105,"b":81},{"r":113,"g":113,"b":81},{"r":105,"g":113,"b":81},{"r":97,"g":113,"b":81},{"r":89,"g":113,"b":81},{"r":81,"g":113,"b":81},{"r":81,"g":113,"b":89},{"r":81,"g":113,"b":97},{"r":81,"g":113,"b":105},{"r":81,"g":113,"b":113},{"r":81,"g":105,"b":113},{"r":81,"g":97,"b":113},{"r":81,"g":89,"b":113},{"r":0,"g":0,"b":65},{"r":16,"g":0,"b":65},{"r":32,"g":0,"b":65},{"r":49,"g":0,"b":65},{"r":65,"g":0,"b":65},{"r":65,"g":0,"b":49},{"r":65,"g":0,"b":32},{"r":65,"g":0,"b":16},{"r":65,"g":0,"b":0},{"r":65,"g":16,"b":0},{"r":65,"g":32,"b":0},{"r":65,"g":49,"b":0},{"r":65,"g":65,"b":0},{"r":49,"g":65,"b":0},{"r":32,"g":65,"b":0},{"r":16,"g":65,"b":0},{"r":0,"g":65,"b":0},{"r":0,"g":65,"b":16},{"r":0,"g":65,"b":32},{"r":0,"g":65,"b":49},{"r":0,"g":65,"b":65},{"r":0,"g":49,"b":65},{"r":0,"g":32,"b":65},{"r":0,"g":16,"b":65},{"r":32,"g":32,"b":65},{"r":40,"g":32,"b":65},{"r":49,"g":32,"b":65},{"r":57,"g":32,"b":65},{"r":65,"g":32,"b":65},{"r":65,"g":32,"b":57},{"r":65,"g":32,"b":49},{"r":65,"g":32,"b":40},{"r":65,"g":32,"b":32},{"r":65,"g":40,"b":32},{"r":65,"g":49,"b":32},{"r":65,"g":57,"b":32},{"r":65,"g":65,"b":32},{"r":57,"g":65,"b":32},{"r":49,"g":65,"b":32},{"r":40,"g":65,"b":32},{"r":32,"g":65,"b":32},{"r":32,"g":65,"b":40},{"r":32,"g":65,"b":49},{"r":32,"g":65,"b":57},{"r":32,"g":65,"b":65},{"r":32,"g":57,"b":65},{"r":32,"g":49,"b":65},{"r":32,"g":40,"b":65},{"r":45,"g":45,"b":65},{"r":49,"g":45,"b":65},{"r":53,"g":45,"b":65},{"r":61,"g":45,"b":65},{"r":65,"g":45,"b":65},{"r":65,"g":45,"b":61},{"r":65,"g":45,"b":53},{"r":65,"g":45,"b":49},{"r":65,"g":45,"b":45},{"r":65,"g":49,"b":45},{"r":65,"g":53,"b":45},{"r":65,"g":61,"b":45},{"r":65,"g":65,"b":45},{"r":61,"g":65,"b":45},{"r":53,"g":65,"b":45},{"r":49,"g":65,"b":45},{"r":45,"g":65,"b":45},{"r":45,"g":65,"b":49},{"r":45,"g":65,"b":53},{"r":45,"g":65,"b":61},{"r":45,"g":65,"b":65},{"r":45,"g":61,"b":65},{"r":45,"g":53,"b":65},{"r":45,"g":49,"b":65},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0},{"r":0,"g":0,"b":0}];

export let ShiftTable = [];

// Performs a cyclic shift to the right
export function PaletteShiftRight(entry, shift, range) {
    ShiftTable[entry] = ((ShiftTable[entry] + shift) % range)%256;
}

export function PaletteShiftLeft(entry, shift, range) {
    ShiftTable[entry] = ((ShiftTable[entry] - shift) % range)%256;
}

function hex_to_rgb(hex) {
    let res = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return res ? {
        r: parseInt(res[1], 16),
        g: parseInt(res[2], 16),
        b: parseInt(res[3], 16)
    } : null;
}
